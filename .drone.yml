kind: pipeline
type: docker
steps:
  - name: Checkout
    uses: actions/checkout@v3
  - name: Use Node.js 16.x
    uses: actions/setup-node@v1
    with:
      node-version: 16.x
  - run: npm ci
  - run: npm run build --if-present
  - name: Publish to Cloudflare Pages
    uses: cloudflare/pages-action@1
    id: cloudflare
    with:
      apiToken: cdtsnPxe4r8JNM1_e2d59oYoCkKPrDGL6FWpufQX
      accountId: d5e572ca2ba04352a0f46d3be80fd12f
      projectName: deployment-analysis-2
      directory: build
      gitHubToken: ${{ secrets.GITHUB_TOKEN }}
